(this["webpackJsonpredux-saga-poc"]=this["webpackJsonpredux-saga-poc"]||[]).push([[0],{40:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},46:function(e,t,n){e.exports=n(76)},51:function(e,t,n){},52:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),o=n.n(c),s=(n(51),n(43)),i=n(40),u=n.n(i),l=(n(52),n(25)),p=n.n(l),E=n(27),f=function(e){return p.a.get(e)},d=function(e){return{type:"FETCH_USER_INCREMENTAL_SUCCESS",payload:e}},_=function(e){return{type:"SAGA_FETCH_USER_SUCCESS",payload:e}},h=n(94),m=n(93),S=function(){var e=Object(E.b)(),t=Object(a.useState)(1),n=Object(s.a)(t,2),c=n[0],o=n[1],i="https://jsonplaceholder.typicode.com/todos/".concat(c),l=function(){o(2===c?1:c+1)};return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("p",null,"As a general rule of thumb:"),r.a.createElement("div",{style:{fontSize:18}},r.a.createElement("p",null,"Thunks are best for complex synchronous logic (especially code that needs access to the entire Redux store state), and simple async logic (like basic AJAX calls). With the use of async/await, it can be reasonable to use thunks for some more complex promise-based logic as well."),r.a.createElement("br",null),r.a.createElement("p",null,'Sagas are best for complex async logic and decoupled "background thread"-type behavior, especially if you need to listen to dispatched actions (which is something that can\'t be done with thunks). They require familiarity with ES6 generator functions and redux-saga\'s "effects" operators.'),r.a.createElement("br",null),r.a.createElement("p",null,"Observables solve the same problems as sagas, but rely on RxJS to implement async behavior. They require familiarity with the RxJS API.")),r.a.createElement("img",{src:u.a,className:"App-logo",alt:"logo"}),r.a.createElement(m.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:3},r.a.createElement(m.a,{item:!0},r.a.createElement(h.a,{variant:"contained",color:"primary",component:"span",onClick:function(){e({type:"FETCH_USER_INCREMENTAL_INIT"}),p.a.get(i).then((function(t){var n=t.data;e(d(n)),l()})).catch((function(t){e({type:"FETCH_USER_INCREMENTAL_FAIL"}),console.error(t)}))}},"Fetch User")),r.a.createElement(m.a,{item:!0},r.a.createElement(h.a,{variant:"contained",color:"primary",component:"span",onClick:function(){e(function(e){return function(t){t({type:"FETCH_USER_INCREMENTAL_INIT"}),f(e).then((function(e){var n=e.data;t(d(n))})).catch((function(e){t({type:"FETCH_USER_INCREMENTAL_FAIL"}),console.error(e)}))}}(i)),l()}},"Fetch User (thunk)")),r.a.createElement(m.a,{item:!0},r.a.createElement(h.a,{variant:"contained",color:"primary",component:"span",onClick:function(){e({type:"SAGA_FETCH_USER_INIT",payload:i}),l()}},"Fetch User (saga)")),r.a.createElement(m.a,{item:!0},r.a.createElement(h.a,{variant:"contained",color:"primary",component:"span",onClick:function(){e({type:"SAGA_FETCH_USER_WITH_TIMEOUT_INIT",payload:i}),l()}},"Fetch User (saga + timeout)")),r.a.createElement(m.a,{item:!0},r.a.createElement(h.a,{variant:"contained",color:"primary",component:"span",onClick:function(){e({type:"SAGA_FETCH_TWO_USERS_RACE",payload:{firstUserUrl:"https://jsonplaceholder.typicode.com/todos/1",secondUserUrl:"https://jsonplaceholder.typicode.com/todos/2"}})}},"Fetch Two Users (saga + race)")))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var b=n(16),x=n(42),T=n(44),g=n(23),A=n(22),O=function(e,t){return Object(g.a)(Object(g.a)({},e),t)},C={isLoading:!1,users:[]},U=function(e){var t=Object(g.a)({},e);return t.isLoading=!0,O(e,t)},v=function(e,t){var n=Object(A.cloneDeep)(e);return n.users=n.users.concat([t]),n.isLoading=!1,O(e,n)},y=function(e){var t=Object(A.cloneDeep)(e);return t.isLoading=!1,t.users=[],O(e,t)},j=function(e){var t=Object(g.a)({},e);return t.isLoading=!0,O(e,t)},w=function(e,t){var n=Object(A.cloneDeep)(e);return n.users=n.users.concat([t]),n.isLoading=!1,O(e,n)},I=function(e){var t=Object(A.cloneDeep)(e);return t.isLoading=!1,t.users=[],O(e,t)},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER_INCREMENTAL_INIT":return U(e);case"FETCH_USER_INCREMENTAL_SUCCESS":return v(e,t.payload);case"FETCH_USER_INCREMENTAL_FAIL":return y(e);case"SAGA_FETCH_USER_INIT":return j(e);case"SAGA_FETCH_USER_SUCCESS":return w(e,t.payload);case"SAGA_FETCH_USER_FAIL":return I();default:return e}},F=n(7),k=n.n(F),N=n(5),H=k.a.mark(P),L=k.a.mark(V),G=k.a.mark($),M=k.a.mark(K),W=k.a.mark(Q),D=k.a.mark(Y),J=k.a.mark(Z),X=k.a.mark(ee),q=k.a.mark(te),z=k.a.mark(ne),B=k.a.mark(ae);function P(e){var t,n;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.prev=1,a.next=4,Object(N.a)(f,t);case 4:return n=a.sent,a.next=7,Object(N.c)(_(n.data));case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(1),a.next=13,Object(N.c)({type:"SAGA_FETCH_USER_FAIL"});case 13:case"end":return a.stop()}}),H,null,[[1,9]])}function V(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.h)("SAGA_FETCH_USER_INIT",P);case 2:case"end":return e.stop()}}),L)}function $(e){var t,n,a,r;return k.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.prev=1,c.t0=N.d,c.next=5,Object(N.a)(f,t);case 5:return c.t1=c.sent,c.t2=Object(N.b)(1e3),c.t3={user:c.t1,timeout:c.t2},c.next=10,(0,c.t0)(c.t3);case 10:if(n=c.sent,a=n.user,r=n.timeout,!a){c.next=17;break}return console.log("no timeout"),c.next=17,Object(N.c)(_(a.data));case 17:if(!r){c.next=21;break}return console.log("timeout"),c.next=21,Object(N.c)({type:"SAGA_FETCH_USER_TIMEOUT_ERROR"});case 21:c.next=27;break;case 23:return c.prev=23,c.t4=c.catch(1),c.next=27,Object(N.c)({type:"SAGA_FETCH_USER_FAIL"});case 27:case"end":return c.stop()}}),G,null,[[1,23]])}function K(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.h)("SAGA_FETCH_USER_WITH_TIMEOUT_INIT",$);case 2:case"end":return e.stop()}}),M)}function Q(e){var t;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(N.e)();case 2:t=n.sent,console.log("[logger] action",e),console.log("[logger] state after",t);case 5:case"end":return n.stop()}}),W)}function Y(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.h)("*",Q);case 2:case"end":return e.stop()}}),D)}function Z(){var e;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<3)){t.next=7;break}return t.next=4,Object(N.g)("SAGA_FETCH_USER_SUCCESS");case 4:e++,t.next=1;break;case 7:console.log("[watchFirstThreeFetches] The three first users where successfully fetched");case 8:case"end":return t.stop()}}),J)}function ee(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(N.g)("SAGA_FETCH_USER_INIT");case 3:return console.log("[fetchFlow] initialized fetching"),e.next=6,Object(N.g)("SAGA_FETCH_USER_SUCCESS");case 6:return console.log("[fetchFlow] fetching success"),e.next=9,Object(N.g)("SAGA_FETCH_USER_FAIL");case 9:console.log("[fetchFlow] fetching error"),e.next=0;break;case 12:case"end":return e.stop()}}),X)}function te(e){var t,n,a,r,c,o;return k.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload,n=t.firstUserUrl,a=t.secondUserUrl,s.t0=N.d,s.next=6,Object(N.a)(f,n);case 6:return s.t1=s.sent,s.next=9,Object(N.a)(f,a);case 9:return s.t2=s.sent,s.t3={firstUser:s.t1,secondUser:s.t2},s.next=13,(0,s.t0)(s.t3);case 13:if(r=s.sent,c=r.firstUser,o=r.secondUser,!c){s.next=21;break}return s.next=19,Object(N.c)({type:"FIRST_USER_WINS"});case 19:return s.next=21,Object(N.c)(_(c.data));case 21:if(!o){s.next=26;break}return s.next=24,Object(N.c)({type:"SECOND_USER_WINS"});case 24:return s.next=26,Object(N.c)(_(o.data));case 26:case"end":return s.stop()}}),q)}function ne(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.h)("SAGA_FETCH_TWO_USERS_RACE",te);case 2:case"end":return e.stop()}}),z)}function ae(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.f)(V);case 2:return e.next=4,Object(N.f)(K);case 4:return e.next=6,Object(N.f)(Y);case 6:return e.next=8,Object(N.f)(Z);case 8:return e.next=10,Object(N.f)(ee);case 10:return e.next=12,Object(N.f)(ne);case 12:case"end":return e.stop()}}),B)}var re=ae,ce=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||b.c,oe=Object(T.a)(),se=Object(b.d)(R,ce(Object(b.a)(oe,x.a)));oe.run(re);var ie=se,ue=r.a.createElement(E.a,{store:ie},r.a.createElement(S,null));o.a.render(ue,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[46,1,2]]]);
//# sourceMappingURL=main.2373aa44.chunk.js.map